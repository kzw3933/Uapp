CREATE DATABASE IF NOT EXISTS UAPP CHARACTER SET utf8;

USE UAPP;

CREATE TABLE IF NOT EXISTS User (
  StudentID VARCHAR(10) NOT NULL PRIMARY KEY,
  Username VARCHAR(20) NOT NULL,
  Email VARCHAR(50) NOT NULL,
  Password VARCHAR(20) NOT NULL,
  Contact VARCHAR(50),
  RegisterTime TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS Item (
  ItemID INT PRIMARY KEY AUTO_INCREMENT,
  ItemTime BIGINT,
  ItemType VARCHAR(30),
  ItemImgName VARCHAR(255),
  ItemLocation VARCHAR(255) NOT NULL,
  ItemDescription VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS LostPost (
  PostID VARCHAR(64) PRIMARY KEY,
  StudentID VARCHAR(10) NOT NULL,
  ItemID INT NOT NULL,
  Available BOOL DEFAULT TRUE,
  PostTime BIGINT,
  Contact VARCHAR(50) NOT NULL,
  FOREIGN KEY (StudentID) REFERENCES User(StudentID),
  FOREIGN KEY (ItemID) REFERENCES Item(ItemID)
);

CREATE TABLE IF NOT EXISTS FoundPost (
  PostID VARCHAR(64) PRIMARY KEY,
  StudentID VARCHAR(10) NOT NULL,
  ItemID INT NOT NULL,
  Available BOOL DEFAULT TRUE,
  PostTime BIGINT,
  Contact VARCHAR(50) NOT NULL,
  FOREIGN KEY (StudentID) REFERENCES User(StudentID),
  FOREIGN KEY (ItemID) REFERENCES Item(ItemID)
);










